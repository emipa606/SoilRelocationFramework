<?xml version="1.0" encoding="utf-8"?>
<Patch>
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
        <xpath>/Defs/ThingDef[defName="PassengerShuttle"]/costList</xpath>
        <value>
			<ReinforcedGlass>10</ReinforcedGlass>
        </value>
    </Operation>
	
	<Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="SolarGenerator"]/costList</xpath>
        <value>
			<Glass>32</Glass>
        </value>
    </Operation>
	
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
        <xpath>/Defs/ThingDef[defName="ShipLandingBeacon"]/costList</xpath>
        <value>
			<LargeCircularGlass>1</LargeCircularGlass>
        </value>
    </Operation>

	<Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="OutdoorGroundLamp"]/costList</xpath>
        <value>
            <costList>
			  <Steel>7</Steel>
			  <LargeCircularGlass>1</LargeCircularGlass>
			</costList>
        </value>
    </Operation>
	
	<Operation Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="GLRoundWallLamp"]/costList</xpath>
        <value>
            <costList>
			  <Steel>10</Steel>
			  <LargeCircularGlass>1</LargeCircularGlass>
			</costList>
        </value>
    </Operation>
	
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[defName="FueledGlassworkTable"]/recipes</xpath>
		<value>
			<li>MakeCircularGlass</li>
		</value>
	</Operation>
<!-- Add LargeCircularGlass to lamps with "standing lamp" in label -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'standing lamp')]/costList</xpath>
		<value>
			<LargeCircularGlass>1</LargeCircularGlass>
		</value>
	</Operation>
	
	<!-- Add LargeCircularGlass to lamps with "desk lamp" in label -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'desk lamp')]/costList</xpath>
		<value>
			<LargeCircularGlass>1</LargeCircularGlass>
		</value>
	</Operation>
	
	<!-- Add LargeCircularGlass to lamps with "sun lamp" in label -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'sun lamp')]/costList</xpath>
		<value>
			<LargeCircularGlass>1</LargeCircularGlass>
		</value>
	</Operation>
	
	<!-- Add Glass to lamps with "floor lamp" in label -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'floor lamp')]/costList</xpath>
		<value>
			<Glass>1</Glass>
		</value>
	</Operation>
	
	<!-- Add Glass to lamps with "outdoor lamp" in label -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'outdoor lamp')]/costList</xpath>
		<value>
			<Glass>1</Glass>
		</value>
	</Operation>
	
	<!-- Add Glass to lamps with "outdoor solar lamp" in label -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'outdoor solar lamp')]/costList</xpath>
		<value>
			<Glass>1</Glass>
		</value>
	</Operation>
	
	<!-- Add Glass to lamps with "flood light" in label -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'flood light')]/costList</xpath>
		<value>
			<Glass>1</Glass>
		</value>
	</Operation>
	
	<!-- Replace wall lamp costList to always be 10 Steel + 1 Glass -->
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>/Defs/ThingDef[defName="WallLamp"]/costList</xpath>
		<value>
			<costList>
				<Steel>10</Steel>
				<Glass>1</Glass>
			</costList>
		</value>
	</Operation>
	
	<!-- Ceiling lights (not long) -->
	  <Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[contains(label, 'ceiling light') and not(contains(label, 'long ceiling light'))]</xpath>
		<value>
		  <costList>
			<LargeCircularGlass>1</LargeCircularGlass>
		  </costList>
		</value>
		<success>Always</success>
	  </Operation>
		
	<!-- Add LargeCircularGlass to long ceiling light -->
	  <Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Owl_LongCeilingLight"]/costList</xpath>
		<value>
		  <Glass>2</Glass>
		</value>
		<success>Always</success>
	  </Operation>
	
	<!-- Add 1 Glass to lamps with "light column" in label -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'light column')]/costList</xpath>
		<value>
			<Glass>1</Glass>
		</value>
	</Operation>
	
	<!-- Add 2 Glass to lamps with "crystal column" in label -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'crystal column')]/costList</xpath>
		<value>
			<Glass>2</Glass>
		</value>
	</Operation>
	
	<!-- Add 3 Glass to lamps with "sun column" in label -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'sun column')]/costList</xpath>
		<value>
			<Glass>3</Glass>
		</value>
	</Operation>
	
	<!-- Add 2 Glass to lamps with "sun pad" in label -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'sun pad')]/costList</xpath>
		<value>
			<Glass>2</Glass>
		</value>
	</Operation>
	
	<!-- Add 1 Glass to "arcade machine" -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'arcade machine')]/costList</xpath>
		<value>
			<Glass>1</Glass>
		</value>
	</Operation>
	
	<!-- Add 1 Glass to "old computer" -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'old computer')]/costList</xpath>
		<value>
			<Glass>1</Glass>
		</value>
	</Operation>
	
	<!-- Add 2 Glass to "modern computer" -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'modern computer')]/costList</xpath>
		<value>
			<Glass>2</Glass>
		</value>
	</Operation>
	
	<!-- Add 1 Glass to "tube television" -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'tube television')]/costList</xpath>
		<value>
			<Glass>1</Glass>
		</value>
	</Operation>
	
	<!-- Add 2 Glass to "flatscreen television" -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'flatscreen television')]/costList</xpath>
		<value>
			<Glass>2</Glass>
		</value>
	</Operation>
	
	<!-- Add 2 Glass to "wall-mounted television" -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'wall-mounted television')]/costList</xpath>
		<value>
			<Glass>2</Glass>
		</value>
	</Operation>
	
	<!-- Add 3 Glass to "megascreen television" -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'megascreen television')]/costList</xpath>
		<value>
			<Glass>3</Glass>
		</value>
	</Operation>
	
	<!-- Add 6 Glass to "hyperscreen television" -->
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/ThingDef[contains(label, 'hyperscreen television')]/costList</xpath>
		<value>
			<Glass>6</Glass>
		</value>
	</Operation>
	
	<!-- Add 2 Glass to regular mirrors -->
	<Operation Class="PatchOperationAdd">
	<success>Always</success>
	  <xpath>Defs/ThingDef[contains(label, 'mirror') and not(contains(label, 'royal'))]/costList</xpath>
	  <value>
		<Glass>2</Glass>
	  </value>
	</Operation>

	<!-- Add 4 Glass and Silver to royal mirrors -->
	<Operation Class="PatchOperationConditional">
	<success>Always</success>
	  <xpath>Defs/ThingDef[contains(label, 'royal mirror')]</xpath>
	  <match Class="PatchOperationSequence">
		<operations>
		  <!-- Create costList if it doesn't exist -->
		  <li Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>Defs/ThingDef[contains(label, 'royal mirror')][not(costList)]</xpath>
			<value>
			  <costList/>
			</value>
		  </li>
		  <!-- Add glass and silver costs -->
		  <li Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>Defs/ThingDef[contains(label, 'royal mirror')]/costList</xpath>
			<value>
			  <Glass>4</Glass>
			  <Silver>100</Silver>
			</value>
		  </li>
		</operations>
	  </match>
	</Operation>
</Patch>